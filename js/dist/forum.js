(()=>{var __webpack_modules__={456:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function safelyEvalAdScript(adPosition,script){try{eval(script)}catch(e){console.group("[davwheat/ads] Failed to execute ad script"),console.info("An exception occurred while evaluating the ad script for "+adPosition+"\n\nTo prevent your forum frontend breaking, we caught the error.\n\nPlease be aware, however, that this may prevent your ads functioning in some cases."),console.info("The stacktrace will be logged below to help you identify the issue. This may reference the ads extension, but the likelihood that the issue lies in there is extraordinarily miniscule."),console.error(e),console.groupEnd()}}__webpack_require__.d(__webpack_exports__,{Z:()=>safelyEvalAdScript})}},__webpack_module_cache__={};function __webpack_require__(e){var a=__webpack_module_cache__[e];if(void 0!==a)return a.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(a,{a}),a},__webpack_require__.d=(e,a)=>{for(var t in a)__webpack_require__.o(a,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},__webpack_require__.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__);const e=flarum.core.compat["forum/app"];var a=__webpack_require__.n(e);const t=flarum.core.compat["common/extend"];function o(){var e=0;try{e++,(adsbygoogle=window.adsbygoogle||[]).push({})}catch(a){e<10&&setTimeout(o,1e3)}}const r=flarum.core.compat["forum/components/PostStream"];var s=__webpack_require__.n(r),d=__webpack_require__(456);const n=flarum.core.compat["forum/components/DiscussionPage"];var c=__webpack_require__.n(n);const i=flarum.core.compat["forum/components/DiscussionHero"];var _=__webpack_require__.n(i);const u=flarum.core.compat["forum/components/DiscussionListPane"];var p=__webpack_require__.n(u);const l=flarum.core.compat["common/components/LoadingIndicator"];var h=__webpack_require__.n(l);const v=flarum.core.compat["common/helpers/listItems"];var w=__webpack_require__.n(v);const b=flarum.core.compat["forum/components/IndexPage"];var f=__webpack_require__.n(b);a().initializers.add("davwheat/ads",(function(){var e,r,n,i=JSON.parse(a().data["davwheat-ads.enabled-ad-locations"]);i.includes("header")&&(e=a().data["davwheat-ads.ad-code.header"],r=a().data["davwheat-ads.ad-code.header.js"],n=m.trust(e),(0,t.override)(f().prototype,"hero",(function(e){return[e(),m("div",{align:"center",class:"davwheat-ad davwheat-ad-header"},n)]})),(0,t.extend)(f().prototype,["oncreate","onupdate"],(function(e){return o(),(0,d.Z)("header",r),e}))),i.includes("discussion_header")&&function(){var e=a().data["davwheat-ads.ad-code.discussion_header"],r=a().data["davwheat-ads.ad-code.discussion_header.js"],n=m.trust(e);(0,t.override)(c().prototype,"view",(function(e){var t=this.discussion;return m("div",{className:"DiscussionPage"},m(p(),{state:a().discussions}),m("div",{className:"DiscussionPage-discussion"},t?[_().component({discussion:t}),m("div",{className:"container"},m("nav",{className:"DiscussionPage-nav"},m("ul",null,w()(this.sidebarItems().toArray()))),m("div",{className:"DiscussionPage-stream"},m("div",{class:"davwheat-ad davwheat-ad-discussion-header",align:"center"},n),s().component({discussion:t,stream:this.stream,onPositionChange:this.positionChanged.bind(this)})))]:m(h(),null)))})),(0,t.extend)(c().prototype,["oncreate","onupdate"],(function(e){return o(),(0,d.Z)("discussion page header",r),e}))}(),i.includes("footer")&&function(){var e=a().data["davwheat-ads.ad-code.footer"],t=a().data["davwheat-ads.ad-code.footer.js"],r=document.createElement("footer");r.className="davwheat-ad davwheat-ad-footer",r.setAttribute("align","center"),document.querySelector(".App-content").append(r),r.innerHTML=e;var s=history.pushState;history.pushState=function(){for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];s.apply(history,n),r.innerHTML=e,o(),(0,d.Z)("footer",t)},o()}(),i.includes("between_posts")&&function(){var e=a().data["davwheat-ads.ad-code.between_posts"],r=a().data["davwheat-ads.ad-code.between_posts.js"],n=m.trust(e);(0,t.override)(s().prototype,"view",(function(e){var t=e().children,o=t.reduce((function(e,o,r){var s=[].concat(e,[o]);return r+1<t.length&&r%(parseInt(a().data["davwheat-ads.between-n-posts"])||15)==0&&s.push(m("aside",{key:"davwheat-ad-"+r,class:"PostStream-item"},m("div",{class:"davwheat-ad davwheat-ad-between-posts"},n))),s}),[]);return"1"===a().data["davwheat-ads.enable-ad-after-placeholder"]&&o.push(m("aside",{key:"davwheat-ad-after-placeholder",class:"PostStream-item"},m("div",{class:"davwheat-ad davwheat-ad-between-posts davwheat-ad-between-posts--after-placeholder"},n))),m("div",{className:"PostStream"},o)})),(0,t.extend)(s().prototype,["onupdate","oncreate"],(function(e){return o(),(0,d.Z)("between posts",r),e}))}(),i.includes("sidebar")&&function(){var e=document.querySelector(":root"),r=a().data["davwheat-ads.ad-code.sidebar"],s=a().data["davwheat-ads.ad-code.sidebar.js"],n=m.trust(r);(0,t.extend)(f().prototype,"sidebarItems",(function(a){return["desktop-hd","desktop","tablet"].includes(getComputedStyle(e).getPropertyValue("--flarum-screen"))&&a.add("davwheat-ads",m("div",{class:"davwheat-ad davwheat-ad-sidebar"},n),-1e3),a})),(0,t.extend)(f().prototype,["oncreate","onupdate"],(function(e){return o(),(0,d.Z)("sidebar",s),e}))}(),i.includes("discussion_sidebar")&&function(){var e=document.querySelector(":root"),r=a().data["davwheat-ads.ad-code.discussion_sidebar"],s=a().data["davwheat-ads.ad-code.discussion_sidebar.js"],n=m.trust(r);e.style.setProperty("--davwheat-ads--discussion-sidebar-position","36px"),(0,t.extend)(c().prototype,"sidebarItems",(function(a){return["desktop-hd","desktop","tablet"].includes(getComputedStyle(e).getPropertyValue("--flarum-screen"))&&a.add("davwheat-ads",m("div",{class:"davwheat-ad davwheat-ad-discussion-sidebar"},n),1e3),a})),(0,t.extend)(c().prototype,["oncreate","onupdate"],(function(e){return o(),(0,d.Z)("discussion sidebar",s),e}))}()}))})(),module.exports=__webpack_exports__})();
//# sourceMappingURL=forum.js.map